# Журналируемые файловые системы. Назначение и виды журналов.

## Журналируемые файловые системы
Журналируемые файловые системы предназначены для повышения надежности и устойчивости файловой системы к сбоям, таким как внезапное отключение питания или аварийное завершение работы системы. Они используют журнал (лог), в который записываются планируемые операции перед их фактическим выполнением. Это позволяет восстановить целостность данных после сбоя, так как система может проверить журнал и завершить незавершенные операции или откатить их.
## Виды журналов:
### Journal (полное журналирование)  
- В журнал записываются как метаданные (информация о структуре файловой системы), так и сами данные.  
- Обеспечивает высокую надежность, но снижает производительность из-за двойной записи (сначала в журнал, затем на диск).  
- Пример: используется в некоторых конфигурациях ext3.
### Ordered (упорядоченное журналирование)  
- В журнал записываются только метаданные, но изменения данных синхронизируются с журналом перед записью метаданных.  
- Данные записываются на диск до того, как соответствующие метаданные попадут в журнал.  
- Баланс между надежностью и производительностью.  
- Пример: режим по умолчанию в ext3.
### Writeback (отложенное журналирование)  
- В журнал записываются только метаданные, а данные могут быть записаны на диск в произвольном порядке.  
- Самый быстрый вариант, но менее надежный, так как возможна потеря данных при сбое.  
- Пример: используется в ext3 для повышения производительности, но с риском потери согласованности данных.
## Назначение журналирования:
- Обеспечение целостности файловой системы после сбоев.  
- Ускорение восстановления после аварийных ситуаций (по сравнению с полной проверкой файловой системы, например, через `fsck`).  
- Минимизация риска потери данных при некорректном завершении работы.  

Примеры файловых систем с поддержкой журналирования: ext3, ext4 (наследует возможности ext3), NTFS, XFS.