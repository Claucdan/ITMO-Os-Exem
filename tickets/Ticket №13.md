# Модель жизненного цикла процесса: состояния процесса, правила переходов между состояниями.

## Двухуровневая модель (Two-State Process Model)
### Общая информация
Изначально процессы могут находиться в двух состояниях:  
- **Исполнение (Running)** – процесс выполняется на процессоре.  
- **Ожидание (Waiting)** – процесс ждет освобождения ресурса (например, завершения ввода-вывода или вытеснения другим процессом).  
### Правила переходов
- **Исполнение → Ожидание**:  
  - Процесс освобождает процессор (например, из-за вытеснения планировщиком или ожидания I/O).  
- **Ожидание → Исполнение**:  
  - Процесс выбирается диспетчером из очереди ожидающих процессов.  
### Проблема  
Если процесс ждет ввода-вывода и оказывается первым в очереди, он сразу перейдет в "Исполнение", но не сможет выполнять полезную работу и снова уйдет в "Ожидание".
![](../img/Pasted%20image%2020250622141003.png)

## Трехуровневая модель (Three-State Process Model)
### Общая информация
Для решения проблемы вводят третье состояние:  
- **Готовность (Ready / Runnable)** – процесс готов к выполнению, но ждет выделения процессора.  
- **Ожидание ввода-вывода (Wait / Uninterruptable Sleep)** – процесс заблокирован до завершения операции I/O.  
### Правила переходов
- **Исполнение → Готовность**:  
  - Процесс вытесняется планировщиком (например, истек его квант времени).  
- **Исполнение → Ожидание I/O**:  
  - Процесс запрашивает операцию ввода-вывода.  
- **Готовность → Исполнение**:  
  - Планировщик выбирает процесс для выполнения.  
- **Ожидание I/O → Готовность**:  
  - Операция ввода-вывода завершена, процесс возвращается в очередь готовых.  
### Особенности
- Состояние **"Ожидание I/O"** называется **непрерываемым сном (Disk Sleep / Uninterruptable Sleep)**, так как ОС не может прервать ожидание без потери данных.
![](../img/Pasted%20image%2020250622141258.png)
## Расширенная модель (с добавлением новых состояний) 
### Общая информация
#### Прерываемый сон (Interruptable Sleep / Sleep)  
- Используется для процессов, которые ждут внешнего события (например, сетевого запроса).  
- Пример: веб-серверы, которые бездействуют до получения запроса.  
- **Правила переходов:**  
  - **Сон → Готовность**: при поступлении сигнала (например, сетевого пакета).  
  - **Готовность → Сон**: после обработки запроса.  
#### Остановлен (Stopped) 
- Процесс приостановлен сигналом `SIGSTOP` (нельзя переопределить).  
- Выход из состояния только по сигналу `SIGCONT`.  
- Пример: остановка процесса через `Ctrl+Z` в терминале.  
#### Зомби (Zombie) / Завершение (Terminated)  
- В Unix: процесс завершился, но его дескриптор еще не освобожден (`Zombie`).  
- В Windows: процесс в состоянии **Terminated**, ОС освобождает ресурсы.  
#### Исключение (Exception)
- Процесс переходит сюда при ошибке.  
- Может получить второй шанс (переход в **Готовность**) или завершиться.
![[Pasted image 20250622141400.png]]
## Пятиуровневая модель (Five-State Process Model)
### Общая информация
Добавляются состояния для долгосрочного планирования:  
- **Рождение (New / Initialized)** – процесс создан, но еще не готов к выполнению.  
- **Готовность (Ready)**  
- **Исполнение (Running)**  
- **Ожидание (Waiting)**  
- **Завершение (Terminated)**  
### Правила переходов 
- **Рождение → Готовность**: процесс добавлен в очередь планировщика.  
- Остальные переходы аналогичны трехуровневой модели.
![](../img/Pasted%20image%2020250622141428.png)
## Среднесрочное и долгосрочное планирование**  
Для управления памятью и нагрузкой вводятся дополнительные состояния:  
##### **Готовность вне RAM (Suspended Ready / Swapped out and Ready)**  
- Процесс выгружен в файл подкачки из-за низкого приоритета.  
- Возвращается в **Готовность** при загрузке в RAM.  
##### **Ожидание I/O вне RAM (Suspended Waiting / Swapped out and Waiting)**  
- Аналогично, но процесс ждет завершения I/O.  
### Правила переходов
- **Готовность → Готовность вне RAM**: при нехватке памяти.  
- **Готовность вне RAM → Готовность**: при возврате в RAM.
![](../img/Pasted%20image%2020250622141502.png)
## Дополнительные состояния в Windows 
- **Standby** – процесс почти готов к выполнению (кеширован).  
- **Transition** – процесс ждет, пока его стек ядра загрузится в память.  
