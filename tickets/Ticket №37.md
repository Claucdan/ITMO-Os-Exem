# Архитектура облачных систем. Основные компоненты, их назначение и способы взаимодействия.
## Основные компоненты
### Вычислительные узлы (Nodes)  
#### Назначение
Обеспечивают выполнение виртуальных машин (ВМ) или контейнеров. Каждый узел имеет свои ресурсы: CPU, RAM, локальное хранилище.  
#### Особенности
- Узлы объединены в кластеры для масштабируемости и отказоустойчивости.  
### Система хранения данных (СХД, Storage)
#### Назначение
Централизованное хранение образов ВМ, шаблонов и данных.  
#### Особенности  
- Использует сетевые протоколы (например, iSCSI, NFS) для доступа.  
- Обеспечивает высокую доступность и отказоустойчивость (аналогично RAID).  
- Логические модули (LUN) позволяют гибко управлять пространством.  
### Контролирующий узел (Control Unit)
#### Назначение
Управляет кластером: мониторит нагрузку, планирует миграции ВМ, балансирует ресурсы.  
#### Функции  
- **Мониторинг**: Через агентов (отправляют данные при превышении порогов) или polling (регулярные опросы).  
- **Живая миграция (Live Migration)**: Перенос ВМ между узлами без остановки сервисов.  
- **Консолидация узлов**: Отключение неиспользуемых узлов для экономии энергии.  
### Сетевые коммутаторы (Network Switch  
#### Назначение
Обеспечивают связь между узлами, СХД и control unit.  
#### Особенности
- Поддерживают высокоскоростные соединения для минимизации задержек.  
### Шаблоны (Templates)
#### Назначение
Заранее настроенные образы ВМ или контейнеров для быстрого развертывания.  
#### Использование
- При росте нагрузки control unit копирует шаблоны для создания новых ВМ.  
### Агенты (Agents)  
#### Назначение
Программы на узлах или ВМ, собирающие метрики (CPU, RAM, дисковую активность).  
#### Взаимодействие
Отправляют данные в control unit через очереди сообщений (Kafka, RabbitMQ).  
## Способы взаимодействия:
- **Живая миграция**: ВМ перемещаются между узлами, их образы остаются на СХД.  
- **Шаблонизация**: Control unit разворачивает новые ВМ из шаблонов при нагрузке.  
- **Динамическое планирование**: На основе данных от агентов control unit перераспределяет ресурсы.  
- **Удаленный доступ**: Протоколы вроде SPICE оптимизируют передачу графики для работы с ВМ.  
### Преимущества:
- **Масштабируемость**: Добавление узлов увеличивает производительность.  
- **Надежность**: Отказ узла не приводит к потере данных (образы на СХД).  
- **Энергоэффективность**: Консолидация снижает затраты на питание и охлаждение.  